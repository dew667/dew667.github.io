<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> ConcurrentHashMap和HashTable的区别 · ColorfulCat</title><meta name="description" content="ConcurrentHashMap和HashTable的区别 - ColorfulCat"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://dew667.github.io/atom.xml" title="ColorfulCat"><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="ColorfulCat" type="application/atom+xml">
</head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="https://github.com/dew667" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/links/" target="_self" class="nav-list-link">LINKS</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">ConcurrentHashMap和HashTable的区别</h1><div class="post-info">Jul 8, 2020</div><div class="post-content"><ul>
<li>ConcurrentHashMap和HashTable的区别<br>ConcurrentHashMap和Hashtable的主要区别在于实现线程安全性的方式不同。</li>
<li>底层数据结构：<br>JDK1.7的ConcurrentHashMap底层数据结构采用分段的数组+链表实现，JDK1.8的ConcurrentHashMap底层数据结构采用和HashMap一样的方式实现，即数组+链表/红黑树。Hashtable的底层数据结构则和JDK1.8之前的HashMap一样，采用数组+链表的方式。<a id="more"></a></li>
<li>实现线程安全性的方式不同：<br><strong>ConcurrentHashMap</strong>：<br>JDK1.7的ConcurrentHashMap底层采用了桶数组分段加锁的方式，在不同线程访问不同分段资源的时候，不存在锁竞争，这样加大了并发访问效率。到了JDK1.8，ConcurrentHashMap抛弃了这种方式，采用数组+链表/红黑树的数据结构，并发访问控制采用Synchronized和CAS来操作，相当于线程安全的HashMap。<br><strong>Hashtable</strong>：<br>Hashtable采用数组+链表的数据结构，并发控制采用synchronized关键字的方式，其并发访问效率较低。一个线程访问同步方法时，另一个线程无法访问该同步方法。</li>
<li>下面是两种集合线程安全性的示意图：<br><img src="https://s1.ax1x.com/2020/07/08/UVTWV0.jpg" alt="pic2"><br><img src="https://s1.ax1x.com/2020/07/08/UVT2bq.jpg" alt="pic3"><br><img src="https://s1.ax1x.com/2020/07/08/UVTfaV.jpg" alt="pic4"></li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/2020/07/07/HashMap%E7%9A%84%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0/" class="next">NEXT</a></div><div class="copyright"><p>© 2019 - 2020 <a href="https://dew667.github.io">ColorfulCat</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>